echo "ibase=16;obase=8;1F" | bc

sudo passwd root
meld

tar zcvf test.tar.gz file1 file2
tar jcvf test.tar.bz2 file1 file2
tar zxvf test.tar.gz
tar jxvf test.tar.bz2

zip -r test.zip file
unzip -Z test.zip
unzip test.zip -d exdir


awk -F '[,=}]' '{print $1,$12}' ./test.exchange.log | sort | uniq

sed -n '1,5p' ./test.log 
sed -n '/plant/p' test.log
sed -n '1,/exchange/p' test.log
sed -n "s/_plant_/_abc_/p" ./test.log
sed -n "/plant/s/pos=1,/pos=a,/p" ./test.log

sed -n "/^{\"boxTime/p" ./treasure.log  

:g/^{"awardId":.*}/d   ---vim删除匹配行
:%s/^{"awardId":.*}//g   ---vim替换匹配行
:%s/xxx/xxx\r/g         ---vim添加换行符


LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib

mvn deploy
mvn dependency:tree
mvn dependency:copy-dependencies
mvn deploy:deploy-file -DgroupId=oracle -DartifactId=ojdbc6 -Dversion=11.2.0.2.0 -Dpackaging=jar -Dfile=/Volumes/MAC/work/ojdbc6.jar -Durl=http://maven.kktv2.com:8081/nexus/content/repositories/releases -DrepositoryId=releases
mvn deploy -Dmaven.test.skip=true
%mvn% dependency:copy-dependencie


//install rz sz
yum -y install lrzsz

sudo x11vnc -forever -passwd 123456

scp:
1、复制远程服务器的文件到本地：
scp -P 888 root@10.0.0.2:/data/ha97.zip /home/
2、复制远程服务器的目录到本地：
scp -vrp -P 888 root@10.0.0.2:/data/ha97/ /home/
3、复制本地的文件到远程服务器：
scp -P 888 /home/ha97.zip root@10.0.0.2:/data/
4、复制本地的目录到远程服务器：
scp -vrp -P 888 /home/ root@10.0.0.2:/data/

netstat -anp | grep 192.168.112.25
scp -P 22 -i kkcx-bj.pem ./kkcx.sql ec2-user@192.168.112.25:/data/app/tomcat-9494-7/.


sftp:
sftp -o Port=22806 root@10.0.0.2
sftp> get /var/www/kyu/index.php  /home/kyu/
sftp> put /home/fuyatao/downloads/Linuxgl.pdf /var/www/fuyatao/

SecureCRT中文件发送 (协议zmodem)
在SecureCRT设置一下上传和下载的默认目录 
options–>session options–>file transfer 下可以设置上传和下载的目录 

python -m SimpleHTTPServer 8000

chrome://settings/content/flash

cat /proc/PID_agency_tomcat/limits
lsof -p PID_agency_tomcat 



ng修改配置后重启：
./sbin/nginx -t -c conf/nginx.conf
./sbin/nginx -t
./sbin/nginx -s reload

-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2
JAVA_OPTS="$JAVA_OPTS -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2"
server.xml URIEncoding="utf-8"

curl --data-urlencode "parameter={"platform":128,"a":1,"c":108,"v":96,"FuncTag":10005073}" http://192.168.100.54:9088/api8/entrance

查看依赖库:ldd/otool
查看库中的符号:nm

redis-cli -h 10.4.1.25 -p 6385 -a youknowthat -n 0 keys 'lucky_card:game_flop_info_*' | xargs redis-cli -h 10.4.1.25 -p 6385 -a youknowthat -n 0 del

redis-server: redis-server.exe ./redis.conf
redis-cli:
1. redis-cli.exe -h redis1.kktv2.com -p 6379 -a youknowthat -n 0
#2. auth youknowthat
3. info 
4. select 0
6. keys * //pattern
7. type keyxxx
8. exists keyxxx keyyyy
8. quit 或 exit(断开客户端)

mongo服务:mongod -dbpath d:\mongodb
1. mongo --port 4001 --host mons.kktv2.com
2. show dbs;
3. use meshow;
4. show collections;
5. db.actorLevel.findOne()
6. db.actorLevel.find({'actorLevel':{$gt:10}},{_id:1,'actorLevel':1,'name':1}).sort({'actorLevel':-1}).skip(7).limit(7)


brew cleanup
brew doctor
brew upgrade
brew list
brew dips imagemagick
brew info imagemagick
brew install imagemagick --with-x11

brew install tmux
brew install coreutils

grep -R --include="*.cpp" key dir
grep key file
cat execute.log | grep -i -w result | grep -v 00000000
cat execute.log | grep -E "40012101|40012102"

cat /proc/PID_agency_tomcat/limits
lsof -p PID_agency_tomcat 

zip -r test.zip file
unzip -Z test.zip
unzip test.zip -d exdir
export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH:/usr/local/lib


grep, sed, awk
lsof 列出当前系统打开的文件句柄，端口号 lsof -i:8080, --root权限？
uptime 当前启动时间，登录用户
pidstat 进程点用系统资源情况 pidstat -urd -p 进程号
pmap 进程内各模块占用内存情况 PMAP -D 进程号
vmstat
mpstat
iostat

netstat  --root权限
	netstat -nap | grep 8080
	netstat -nap | grep 2862
mtr 网络连通性测试, 检测丢包率
nslookup 检测DNS服务器解析域名是否正确
traceroute 测试连接路径
sar 多功能监控工具，网卡每秒存取速度
iptraf 实时网络流量
nmap
ethtool
pstack 进程本地调用
du -h .   du -sh . 查看目录大小
df -h  查看磁盘大小

修改Ubuntu时区：
timedatectl status
timedatectl set-timezone "Asia/Shanghai" 

lsof -i :8080 查看端口
jmap -dump:format=b,file=./dump.bin 11856
jhat -J-mx512m /root/cgh/dump.bin
jps -lvm 查看jvm进程信息
jinfo <pid> 查看进程信息
jmap -heap <pid> 查看进程堆信息
jstack -l <pid> 查看进程堆栈（线程）信息


jstat -class pid:显示加载class的数量，及所占空间等信息。  
jstat -compiler pid:显示VM实时编译的数量等信息。  
jstat -gc pid:可以显示gc的信息，查看gc的次数，及时间。其中最后五项，分别是young gc的次数，young gc的时间，full gc的次数，full gc的时间，gc的总时间。  
jstat -gccapacity:可以显示，VM内存中三代（young,old,perm）对象的使用和占用大小，如：PGCMN显示的是最小perm的内存使用量，PGCMX显示的是perm的内存最大使用量，PGC是当前新生成的perm内存占用量，PC是但前perm内存占用量。其他的可以根据这个类推， OC是old内纯的占用量。  
jstat -gcnew pid:new对象的信息。  
jstat -gcnewcapacity pid:new对象的信息及其占用量。  
jstat -gcold pid:old对象的信息。  
jstat -gcoldcapacity pid: old对象的信息及其占用量。  
jstat -gcpermcapacity pid: perm对象的信息及其占用量。  
jstat -gcutil pid:统计gc信息统计。  
jstat -printcompilation pid:当前VM执行的信息。  


----------------------
java.lang.OutOfMemoryError: Java heap space 老年代(Old space)空间不足
java.lang.OutOfMemoryError: PermGen space  永久代(Perm space)空间不足
promotion failed是在进行Minor GC时，survivor space放不下、对象只能放入老年代，而此时老年代也放不下造成的；
concurrent mode failure是在执行CMS GC的过程中同时有对象要放入老年代，而此时老年代空间不足造成的


---------------------
docker run --name tomcat9595 -t -i -v /data/webapps/9595:/data/app/tomcat-9595/webapps -v /tada/nginx/html/kktv:/tada/nginx/html/kktv -p 9595:9595 -p 9494:9595 centos:6.8V4
docker run --name tomcat9595 -dti -v /data/webapps/9595:/data/app/tomcat-9595/webapps -v /data/webapps/logs:/data/app/tomcat-9595/logs -v /tada/nginx/html/kktv:/tada/nginx/html/kktv -p 9595:9595 -p 9494:9595 10.0.1.199:5000/centos:6.8V4
docker run --name registry -e REGISTRY_STORAGE_DELETE_ENABLED=true -t -i -v /data/registry:/var/lib/registry -p 5000:5000 registry:v2
docker run --name ngtt -t -i -v /data/webapps/9595:/data/app/tomcat-9595/webapps -v /tada/nginx/html/kktv:/tada/nginx/html/kktv -p 9595:9595 -p 80:80 ngtt:1.0
docker run --name registry -e REGISTRY_STORAGE_DELETE_ENABLED=true -t -i -v /data/registry:/var/lib/registry -p 5000:5000 registry:v2

centos: /etc/sysconfig/docker
other_args="--insecure-registry 10.0.1.199:5000"
mac, docker.app 配置
—insecure-registry=10.0.1.199:5000 (docker.app Deamon)

//publish image
docker tag centos:6.8V4[4f437b449cb3] 10.0.1.199:5000/centos:6.8V4
docker push 10.0.1.199:5000/centos:6.8V4

//download image
docker pull 10.0.1.199:5000/centos:6.8V4

curl http://10.0.1.199:5000/v2/centos/tags/list
curl http://10.0.1.199:5000/v2/centos/manifests/6.8V1
curl http://10.0.1.199:5000/v2/_catalog


//container -> image
docker commit 348e347a4ba9 10.0.1.199:5000/centos:6.8V4

docker start -i 348e347a4ba9

docker attach xxxxxx
如何退出容器而不停止容器？组合键：Ctrl+P+Q

docker logs -f xxxxx
docker build -t centos:6.8V4 ./

install nginx:
rpm -ivh http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm
yum install nginx

cd /usr/share/nginx/html
ln -s /tada/nginx/html/kktv ./kktv
service nginx start
http://10.0.0.7/kktv/test.jpg

sudo ln -s /usr/local/Cellar/python/3.7.7/bin/python3 /usr/local/bin/python3

brew install postgresql -v	
initdb /usr/local/var/postgres -E utf8
createuser kkworld -P
cd /usr/local/opt/postgres/bin

pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start
pg_ctl -D /usr/local/var/postgres stop -s -m fast

createdb kkworld -O kkworld -E UTF8 -e

psql -l
psql -U kkworld -d kkworld -h 127.0.0.1
\l
\d
\dt
\di


查看端口对应进程（需要root）
netstat -lanp | grep 20000
lsof -i:20000



---------------------
jstat:
jdk8 jstat 选项的输出说明：
-class  option
Class loader statistics.

Loaded: Number of classes loaded.

Bytes: Number of kBs loaded.

Unloaded: Number of classes unloaded.

Bytes: Number of Kbytes unloaded.

Time: Time spent performing class loading and unloading operations.

-compiler  option
Java HotSpot VM Just-in-Time compiler statistics.

Compiled: Number of compilation tasks performed.

Failed: Number of compilations tasks failed.

Invalid: Number of compilation tasks that were invalidated.

Time: Time spent performing compilation tasks.

FailedType: Compile type of the last failed compilation.

FailedMethod: Class name and method of the last failed compilation.

-gc  option
Garbage-collected heap statistics.

S0C: Current survivor space 0 capacity (kB).

S1C: Current survivor space 1 capacity (kB).

S0U: Survivor space 0 utilization (kB).

S1U: Survivor space 1 utilization (kB).

EC: Current eden space capacity (kB).

EU: Eden space utilization (kB).

OC: Current old space capacity (kB).

OU: Old space utilization (kB).

MC: Metaspace capacity (kB).

MU: Metacspace utilization (kB).

CCSC: Compressed class space capacity (kB).

CCSU: Compressed class space used (kB).

YGC: Number of young generation garbage collection events.

YGCT: Young generation garbage collection time.

FGC: Number of full GC events.

FGCT: Full garbage collection time.

GCT: Total garbage collection time.

-gccapacity  option
Memory pool generation and space capacities.

NGCMN: Minimum new generation capacity (kB).

NGCMX: Maximum new generation capacity (kB).

NGC: Current new generation capacity (kB).

S0C: Current survivor space 0 capacity (kB).

S1C: Current survivor space 1 capacity (kB).

EC: Current eden space capacity (kB).

OGCMN: Minimum old generation capacity (kB).

OGCMX: Maximum old generation capacity (kB).

OGC: Current old generation capacity (kB).

OC: Current old space capacity (kB).

MCMN: Minimum metaspace capacity (kB).

MCMX: Maximum metaspace capacity (kB).

MC: Metaspace capacity (kB).

CCSMN: Compressed class space minimum capacity (kB).

CCSMX: Compressed class space maximum capacity (kB).

CCSC: Compressed class space capacity (kB).

YGC: Number of young generation GC events.

FGC: Number of full GC events.

-gccause  option
This option displays the same summary of garbage collection statistics as the -gcutil option, but includes the causes of the last garbage collection event and (when applicable) the current garbage collection event. In addition to the columns listed for -gcutil, this option adds the following columns.

LGCC: Cause of last garbage collection

GCC: Cause of current garbage collection

-gcnew  option
New generation statistics.

S0C: Current survivor space 0 capacity (kB).

S1C: Current survivor space 1 capacity (kB).

S0U: Survivor space 0 utilization (kB).

S1U: Survivor space 1 utilization (kB).

TT: Tenuring threshold.

MTT: Maximum tenuring threshold.

DSS: Desired survivor size (kB).

EC: Current eden space capacity (kB).

EU: Eden space utilization (kB).

YGC: Number of young generation GC events.

YGCT: Young generation garbage collection time.

-gcnewcapacity  option
New generation space size statistics.

NGCMN: Minimum new generation capacity (kB).

NGCMX: Maximum new generation capacity (kB).

NGC: Current new generation capacity (kB).

S0CMX: Maximum survivor space 0 capacity (kB).

S0C: Current survivor space 0 capacity (kB).

S1CMX: Maximum survivor space 1 capacity (kB).

S1C: Current survivor space 1 capacity (kB).

ECMX: Maximum eden space capacity (kB).

EC: Current eden space capacity (kB).

YGC: Number of young generation GC events.

FGC: Number of full GC events.

-gcold  option
Old generation and metaspace behavior statistics.

MC: Metaspace capacity (kB).

MU: Metaspace utilization (kB).

CCSC: Compressed class space capacity (kB).

CCSU: Compressed class space used (kB).

OC: Current old space capacity (kB).

OU: Old space utilization (kB).

YGC: Number of young generation GC events.

FGC: Number of full GC events.

FGCT: Full garbage collection time.

GCT: Total garbage collection time.

-gcoldcapacity  option
Old generation size statistics.

OGCMN: Minimum old generation capacity (kB).

OGCMX: Maximum old generation capacity (kB).

OGC: Current old generation capacity (kB).

OC: Current old space capacity (kB).

YGC: Number of young generation GC events.

FGC: Number of full GC events.

FGCT: Full garbage collection time.

GCT: Total garbage collection time.

-gcmetacapacity  option
Metaspace size statistics.

MCMN: Minimum metaspace capacity (kB).

MCMX: Maximum metaspace capacity (kB).

MC: Metaspace capacity (kB).

CCSMN: Compressed class space minimum capacity (kB).

CCSMX: Compressed class space maximum capacity (kB).

YGC: Number of young generation GC events.

FGC: Number of full GC events.

FGCT: Full garbage collection time.

GCT: Total garbage collection time.

-gcutil  option
Summary of garbage collection statistics.

S0: Survivor space 0 utilization as a percentage of the space's current capacity.

S1: Survivor space 1 utilization as a percentage of the space's current capacity.

E: Eden space utilization as a percentage of the space's current capacity.

O: Old space utilization as a percentage of the space's current capacity.

M: Metaspace utilization as a percentage of the space's current capacity.

CCS: Compressed class space utilization as a percentage.

YGC: Number of young generation GC events.

YGCT: Young generation garbage collection time.

FGC: Number of full GC events.

FGCT: Full garbage collection time.

GCT: Total garbage collection time.



-printcompilation  option
Java HotSpot VM compiler method statistics.

Compiled: Number of compilation tasks performed by the most recently compiled method.

Size: Number of bytes of byte code of the most recently compiled method.

Type: Compilation type of the most recently compiled method.

Method: Class name and method name identifying the most recently compiled method. Class name uses slash (/) instead of dot (.) as a name space separator. Method name is the method within the specified class. The format for these two fields is consistent with the HotSpot -XX:+PrintCompilation option.




















